<div data-control="docs-cacher" class="docs-cacher">
     <div class="container">
         <div class="row ">
             <div class="col-md-3 col-display" >
                 <ul class="docs-sidebar-toc">
                     {% partial 'BookList::sidebar' chapters=chapters %}
                 </ul>
             </div>
             <div class="col-md-9">
                 <p class="display-sidebar"><span class="icon-list"></span></p>
                 <div class="md-content">
                     {% if chapter %}
                         {% if chapter.if_total_translate %}
                             <div class="row">
                                 <button class="btn btn-primary btn-sm" type="button">
                                     参与人数 <span class="badge">{{chapter.chapterUserCount}}</span>
                                 </button></div>
                                 <div class="col-md-9"> {{chapter.content_html|raw}}</div>
                                 <div class="col-md-3">

                                     {% if chapter.stateType %}
                                     {% for state in chapter.stateType %}
                                     <a href="{{ translatePage| page({class_type:'chapters',slug:chapter.slug,type:state['type'] })}}">[{{state['desc']}}]</a>&nbsp;&nbsp;
                                     {% endfor %}
                                     {% else %}
                                     [{{chapter.stateDesc}}<a href="{{ translatePage| page({class_type:'chapters',slug:chapter.slug })}}">查看</a>]
                                     {% endif %}
                                 </div>
                             </div>
                         {% else %}
                                <div class="row">
                                    <div class="col-md-6"><button class="btn btn-primary btn-sm" type="button">
                                        总分块数量 <span class="badge">{{chapter.section_number}}</span>
                                    </button>
                                        <button class="btn btn-primary btn-sm" type="button">
                                            已翻译分块<span class="badge">{{chapter.translate_section_number}}</span>
                                        </button>
                                        <button class="btn btn-primary btn-sm" type="button">
                                            参与总人数 <span class="badge">{{chapter.sectionUserCount}}</span>
                                        </button></div>
                                    <div class="col-md-6">
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{chapter.rateProgress}};">
                                                {{chapter.rateProgress}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                             {% for key,section in chapter.sections %}
                             <div class="row">


                                 <div class="col-md-8">{{section.content_html | raw}}</div>
                                 <div class="col-md-4">

                                     <button class="btn btn-primary btn-sm" type="button">
                                         第<span class="badge">{{key+1}}</span>分块
                                     </button>
                                     <button class="btn btn-primary btn-sm" type="button">
                                         参与人数 <span class="badge">{{section.users().count()}}</span>
                                     </button>
                                     <br>
                                     <br>
                                     {% if section.stateType %}
                                         {% for state in section.stateType %}
                                         <a href="{{ translatePage| page({class_type:'sections',slug:section.slug,type:state['type'] })}}" class="btn btn-primary btn-sm active" role="button">{{state['desc']}}</a>
                                        {% endfor %}
                                         <br>
                                         <br>
                                     {% else %}
                                         <span class="label label-primary">{{section.stateDesc}}</span>
                                            <br>
                                            <br>
                                         <a href="{{ translatePage| page({class_type:'sections',slug:section.slug })}}" class="btn btn-primary btn-sm active" role="button">查看</a>

                                         {% endif %}
                                     </div>

                             </div>
                             </div>
                             {% endfor %}


                         {% endif %}

                     {% else %}
                        {% partial 'BookList::instruction' chapters=chapters %}
                     {% endif %}

                 </div>
             </div>
         </div>
     </div>
</div>
